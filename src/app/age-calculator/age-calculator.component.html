<div class="container">
  <form (ngSubmit)="calculateAge()" #ageCalculator="ngForm">
    <div class="form-group">
      <div class="data">
        <label
          for="day"
          [ngClass]="{ invalid: day.invalid && (day.dirty || day.touched) }"
        >
          DAY
        </label>

        <input
          type="number"
          id="day"
          required
          [(ngModel)]="birthdate.day"
          name="day"
          min="1"
          max="31"
          #day="ngModel"
          placeholder="DD"
        />

        <div *ngIf="day.invalid && (day.dirty || day.touched)" class="alert">
          <div *ngIf="day.errors?.['required']">{{ requiredError }}</div>
          <div *ngIf="day.errors?.['min'] || day.errors?.['max']">
            {{ invalidDay }}
          </div>
        </div>
      </div>

      <div class="data">
        <label
          for="month"
          [ngClass]="{
            invalid: month.invalid && (month.dirty || month.touched)
          }"
        >
          MONTH
        </label>

        <input
          type="number"
          id="month"
          required
          [(ngModel)]="birthdate.month"
          name="month"
          min="1"
          max="12"
          #month="ngModel"
          placeholder="MM"
        />

        <div
          *ngIf="month.invalid && (month.dirty || month.touched)"
          class="alert"
        >
          <div *ngIf="month.errors?.['required']">{{ requiredError }}</div>
          <div *ngIf="month.errors?.['min'] || month.errors?.['max']">
            {{ invalidMonth }}
          </div>
        </div>
      </div>

      <div class="data">
        <label
          for="year"
          [ngClass]="{ invalid: year.invalid && (year.dirty || year.touched) }"
        >
          YEAR
        </label>

        <input
          type="number"
          id="year"
          required
          [(ngModel)]="birthdate.year"
          name="year"
          min="1"
          [max]="currentYear"
          #year="ngModel"
          placeholder="YYYY"
        />

        <div *ngIf="year.invalid && (year.dirty || year.touched)" class="alert">
          <div *ngIf="year.errors?.['required']">{{ requiredError }}</div>
          <div *ngIf="year.errors?.['min'] || year.errors?.['max']">
            {{ invalidYear }}
          </div>
        </div>
      </div>
    </div>

    <div class="button-container">
      <hr />
      <button type="submit" class="button"></button>
    </div>
  </form>

  <div class="result">
    <div>
      <span *ngIf="age; else emptyBlock">{{ age.year }}</span> years
    </div>

    <div>
      <span *ngIf="age; else emptyBlock">{{ age.month }}</span> months
    </div>

    <div>
      <span *ngIf="age; else emptyBlock">{{ age.day }}</span> days
    </div>

    <ng-template #emptyBlock><span>--</span></ng-template>
  </div>
</div>
